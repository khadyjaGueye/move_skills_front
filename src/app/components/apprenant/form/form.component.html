

<!-- start: Main -->
<main class="w-full md:w-[calc(100%-256px)] md:ml-64 bg-gray-50 min-h-screen transition-all main">
  <div class="py-2 px-6 h-20 bg-white flex items-center shadow-md shadow-black/5 sticky top-0 left-0 z-30">
    <div class="flex items-center text-xl ml-4">Mes parcours</div>
  </div>
  <div class="container mx-auto">
    <div class="bg-gray-200 p-4 rounded-md m-5">
      <span class="text-[#EF7743]">Description</span>
      <p class="text-[#EF7743]">À terminer avant 10H00m.2024</p>
      <button (click)="startTest()" class="bg-[#114C5A] hover:bg-[#EF7743] text-white font-bold py-2 px-4 rounded">
        Démarrer le test
      </button>
    </div>
    <!-- Afficher les couleurs et leurs caracteristiques -->
    <div *ngIf="displayColorCharacteristics">
    <span class="uppercase text-2xl font-bold">Ce qui me caracterise....</span>
    <div class="flex">
      <div>
        <div class="flex gap-10">
          <div class="flex gap-20">
            <div class="">
              <div class="text-white w-96 text-center h-10 uppercase bg-blue-500">Bleu</div>
              <p class="ml-5 mt-2">. Rechercher des frais et des explications logiques</p>
              <p class="ml-5 mt-2">. Actions et prise de décision prudentes</p>
              <p class="ml-5 mt-2">. Aime l'organisation et les structures</p>
              <p class="ml-5 mt-2">. N'aime pas etre brusqué</p>
              <p class="ml-5 mt-2">. S'intéresse aux détails</p>
              <p class="ml-5 mt-2">. Objectif, analytique et orienté vers les taches</p>
              <p class="ml-5 mt-2">. Travail seul et avec précision</p>
              <p class="ml-5 mt-2">. Froid et disant; peu ouverte aux sentiments</p>
            </div>
            <div class="">
              <div class="text-white w-96 text-center h-10 uppercase bg-red-500">Rouge</div>
              <p class="ml-5 mt-2">. Rapide; décidé; énergique</p>
              <p class="ml-5 mt-2">. Directe et pragmatique</p>
              <p class="ml-5 mt-2">. Sene deu résultat</p>
              <p class="ml-5 mt-2">. Aime la compétion</p>
              <p class="ml-5 mt-2">. Recherche le maximum d'indépendance</p>
              <p class="ml-5 mt-2">. N'aime pas l'inaction</p>
              <p class="ml-5 mt-2">. TRavail rapidement et seul</p>
              <p class="ml-5 mt-2">. Aimer controler</p>
            </div>
          </div>
        </div>
        <div class="flex gap-20 mt-5">
          <div class="">
            <div class="text-white w-96 text-center h-10 uppercase bg-green-500">Vert</div>
            <p class="ml-5 mt-2">. Attentioné, stable, coopérant</p>
            <p class="ml-5 mt-2">. Aime les relations personnalisés</p>
            <p class="ml-5 mt-2">. N'aime pas les conflits</p>
            <p class="ml-5 mt-2">. Soutien et écoute activement les autres</p>
            <p class="ml-5 mt-2">. Renforce la cohésion</p>
            <p class="ml-5 mt-2">. Accomodant</p>
            <p class="ml-5 mt-2">. Patient</p>
            <p class="ml-5 mt-2">. Lent à passer à l'acte à décider</p>
          </div>
          <div class="">
            <div class="text-white w-96 text-center h-10 uppercase bg-yellow-500">Jaune</div>
            <p class="ml-5 mt-2">. Optimisme, enthousiame, communiquant</p>
            <p class="ml-5 mt-2">. Actions et décisions spontanées</p>
            <p class="ml-5 mt-2">. Aime travailler en groupe</p>
            <p class="ml-5 mt-2">. Créatif, tendance à rever</p>
            <p class="ml-5 mt-2">. Spontanée, sens de l'improvisation</p>
            <p class="ml-5 mt-2">. Talents de percusion</p>
            <p class="ml-5 mt-2">. Impulsif</p>
            <p class="ml-5 mt-2">. Saute d'une activité à l'autre</p>
          </div>
        </div>
      </div>
      <div class="mt-60 ml-60">
        <div class="circle-container relative">
          <!-- Cercle coloré -->
          <div class="color-circle" [ngStyle]="getCircleStyle()"></div>
          <!-- Images à côté des couleurs -->
          <div class="absolute top-0 left-0" *ngIf="scores['blue'] > 0">
            <img src="assets/images/oiseau.jpg" alt="Canard" class="animal-icon" />
          </div>
          <div class="absolute top-0 right-0" *ngIf="scores['red'] > 0">
            <img src="assets/images/taureau.jpg" alt="Taureau" class="animal-icon" />
          </div>
          <div class="absolute bottom-0 right-0" *ngIf="scores['yellow'] > 0">
            <img src="assets/images/singe.jpeg" alt="Singe" class="animal-icon" />
          </div>
          <div class="absolute bottom-0 left-0" *ngIf="scores['green'] > 0">
            <img src="assets/images/tortue.png" alt="Tortue" class="animal-icon" />
          </div>

        </div>
      </div>

    </div>
  </div>
    <!-- Afficher le tetant patient tolérant, et flexible

st seulement après avoir cliqué sur le bouton "Démarrer le test" -->
    <div *ngIf="testStarted" class="border border-gray-400 p-6 w-96 ml-96 rounded-md shadow-l">
      <div *ngIf="currentQuestionIndex < questions.length" class="">
        <h2 class="text-[#114C5A]">{{ currentQuestionIndex + 1 }}.{{ questions[currentQuestionIndex].text }}</h2>

        <div *ngFor="let answer of remainingAnswers;let i index" class="mt-5">
          <p class="text-[#EF7743]">{{ answer.text }}</p>
          <div>
            <label *ngIf="remainingPoints.includes(6)">
              <input type="radio" name="points" [value]="6" (change)="submitAnswer(6, answer)"> 6 points
            </label>
            <label *ngIf="remainingPoints.includes(3)">
              <input type="radio" name="points" [value]="3" (change)="submitAnswer(3, answer)"> 3 points
            </label>
            <label *ngIf="remainingPoints.includes(1)">
              <input type="radio" name="points" [value]="1" (change)="submitAnswer(1, answer)"> 1 point
            </label>
            <label *ngIf="remainingPoints.includes(0)">
              <input type="radio" name="points" [value]="0" (change)="submitAnswer(0, answer)"> 0 point
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal pour afficher les résultats -->
    <div *ngIf="showResultsModal" class="fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50">
      <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
        <h2 class="text-xl font-bold mb-4">Résultats du test</h2>
        <p class="text-red-500">Rouge: {{ scores['red'] }} points</p>
        <p class="text-yellow-500">Jaune: {{ scores['yellow'] }} points</p>
        <p class="text-green-500">Vert: {{ scores['green'] }} points</p>
        <p class="text-blue-500">Bleu: {{ scores['blue'] }} points</p>
        <!-- Affichage du texte avec la couleur du score le plus élevé -->
        <p [ngStyle]="{'color': getHighestScoreColor()}">
          Couleur avec le plus de points : {{ getHighestScoreColor() | titlecase }}
        </p>
        <p class="font-bold">Somme totale des points est : {{ calculateTotalColorScore() }} points</p>
        <!-- Bouton pour fermer la modal -->
        <button (click)="closeModal(); sendResults()" class="bg-[#114C5A] text-white px-4 py-2 rounded-md mt-4">Fermer</button>
      </div>
    </div>
  </div>
</main>
<!-- end: Main -->
